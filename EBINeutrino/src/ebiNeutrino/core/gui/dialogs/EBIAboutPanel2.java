package ebiNeutrino.core.gui.dialogs;

import javax.swing.*;
import java.awt.*;
import java.io.*;

public class EBIAboutPanel2 extends JPanel {

	private static final long serialVersionUID = 1L;
	private JEditorPane jEditorPane = null;
	private JScrollPane jScrollPane = null;

	/**
	 * This is the default constructor
	 */
	public EBIAboutPanel2() {
		super();
		initialize();
		jEditorPane.setText(getLicenseText(new File("License.txt")));
	}
	
    String getLicenseText(final File aFile) {
	    //...checks on aFile are elided
	    final StringBuffer contents = new StringBuffer();

	    //declared here only to make visible to finally clause
	    BufferedReader input = null;
	    try {
	      //use buffering, reading one line at a time
	      //FileReader always assumes default encoding is OK!
	      input = new BufferedReader( new FileReader(aFile) );
	      String line; //not declared within while loop
	      /*
	      * readLine is a bit quirky :
	      * it returns the content of a line MINUS the newline.
	      * it returns null only for the END of the stream.
	      * it returns an empty String if two newlines appear in a row.
	      */
	      while (( line = input.readLine()) != null){
	        contents.append(line);
	        contents.append(System.getProperty("line.separator"));
	      }
	    }
	    catch (final FileNotFoundException ex) {
	      ex.printStackTrace();
	    }
	    catch (final IOException ex){
	      ex.printStackTrace();
	    }
	    finally {
	      try {
	        if (input!= null) {
	          //flush and close both "input" and its underlying FileReader
	          input.close();
	        }
	      }
	      catch (final IOException ex) {
	        ex.printStackTrace();
	      }
	    }
	    return contents.toString();
	  }

	/**
	 * This method initializes this
	 * 
	 * @return void
	 */
	private void initialize() {
		this.setSize(300, 200);
		this.setLayout(new BorderLayout());
		this.add(getJScrollPane(), BorderLayout.CENTER);
	}

	/**
	 * This method initializes jEditorPane	
	 * 	
	 * @return javax.swing.JEditorPane	
	 */
	private JEditorPane getJEditorPane() {
		if (jEditorPane == null) {
			jEditorPane = new JEditorPane();
			jEditorPane.setEditable(false);
			jEditorPane.setContentType("text/html");
		}
		return jEditorPane;
	}

	/**
	 * This method initializes jScrollPane	
	 * 	
	 * @return javax.swing.JScrollPane	
	 */
	private JScrollPane getJScrollPane() {
		if (jScrollPane == null) {
			jScrollPane = new JScrollPane();
			jScrollPane.setViewportView(getJEditorPane());
		}
		return jScrollPane;
	}

}
